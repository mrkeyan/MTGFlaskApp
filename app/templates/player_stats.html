{% extends 'index.html' %}
{% block content %}
<div class="container col-md-8 col-lg-6">
<h1 class="mb-4">All Players Stats</h1>
<table class="table table-striped table-bordered table-hover align-middle">
    <thead class="table-light">
        <tr>
            <th scope="col">Player Name</th>
            <th scope="col">Wins</th>
            <th scope="col">Total Games</th>
            <th scope="col">Win Rate (%)</th>
            {% if not current_user.is_anonymous %}
            <th scope="col" style="width: 100px;"></th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
    {% for player in players %}
        <tr>
            <td>{{ player.player_name }}</td>
            <td>{{ player.wins }}</td>
            <td>{{ player.total_valid_games }}</td>
            <td>{{ (player.win_rate * 100) | round(2) }}</td>
            {% if not current_user.is_anonymous %}
            <td>
                <a href="{{ url_for('main.edit_player', player_id=player.id) }}" 
                   class="btn btn-sm btn-outline-primary">Edit</a>
            </td>
            {% endif %}
        </tr>
    {% else %}
        <tr>
            <td {% if not current_user.is_anonymous %}colspan="4" {% else %} colspan="5" {% endif %} class="text-center">No players found.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
